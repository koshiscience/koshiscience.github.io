---
layout: default
title: IchigoJamを使ってキラキラアクセサリーを作ろう！
image: /img/2020-08-12-led_handspinner.jpg
tags:
- IchigoJam
---
# はじめに
こんにちは。

IchigoJamチームです。

突然ですが、最近IchigoJamのOSが新しくなったことをご存じですか？

12月に、[福野さん](https://fukuno.jig.jp)がIchigoJam 1.4を正式リリースしました。

このアップデートでたくさんの機能がIchigoJamに追加されたのですが、今回はその中の`WS.LED`コマンドを使って、お手軽キラキラアクセサリーを作りましょう！

# 準備するもの
- Ichigojam(BASIC 1.4が書き込み済み。書き込み方法については[こちら](https://15jamrecipe.jimdofree.com/%E5%91%A8%E8%BE%BA%E6%A9%9F%E5%99%A8/%E3%83%91%E3%82%BD%E3%82%B3%E3%83%B3%E3%81%A8%E6%8E%A5%E7%B6%9A/%E3%83%95%E3%82%A1%E3%83%BC%E3%83%A0%E3%82%A6%E3%82%A7%E3%82%A2%E6%9B%B4%E6%96%B0/))
- WS2812B内蔵LEDテープ(amazonなどで「WS2812B LEDテープ」などと検索してみてください)
- IchigoJamでプログラミングする環境
- モバイルバッテリーもしくは電池ボックスと乾電池(3本)
- はんだごてや導線(LEDテープを必要な長さに調節するのに使います)
- あれば、装飾したいマフラー、帽子など

# LEDテープの準備
まず、どこをどのように装飾するのかを考えます。

LEDテープは33個までに収めてください。

次に、必要な長さにカットします。

そして各端子に導線をはんだ付けして準備完了です。

# プログラミング
IchigoJamにプログラミングしていきます。

まず、SAVE0にあるプログラムを退避させてください。

`WS.LED {数1}`コマンドは、配列を最初から参照し、３つずつ読み取ってその３つの値をred、green、blueと認識して、光らせていきます。

一番単純な、全部のLEDをランダムに光らせるプログラムはこれです
```
1 @ARUN
10 FORI=0TO29:[I]=RND(100):NEXT:WS.LED10:WAIT10:CONT
```
`SAVE0`して保存してください。

他にも、自分でいろいろ試してみてください。

# 接続
IchigoJam側の端子と、LEDテープ側の端子を接続していきます。

| IchigoJam側 | LEDテープ側 |
| :---: | :---: |
| GND | GND |
| 5V | VCC |
| LED | DO |

上を参考に配線してみてください。

この状態で、IchigoJamの電源を入れると動き出します。

プログラムの最初に「@ARUN」という記述をしてSAVE0に保存すると、起動時に自動実行されるからです。(IchigoJam 1.4の新機能)

持ち運べるようにするには、モバイルバッテリーをつなげるか、乾電池の＋をIchigoJamの5Vに、ーをIchigoJamのGNDにさしてください。

# 完成
僕たちは、ネックウォーマーや帽子にLEDをつけて遊びました！

プログラムの設定で、かなり明るくなるようにしてあるので、結構まぶしいです。

そのあたりは、自分で試して変更してください。

このキラキラアクセサリーで、パーティーなどを盛り上げよう！
